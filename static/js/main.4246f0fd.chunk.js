(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{108:function(e,t,n){e.exports=n(202)},113:function(e,t,n){},115:function(e,t,n){},202:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),o=n(7),c=n.n(o),i=(n(113),n(14)),l=n(15),s=n(18),u=n(16),p=n(19),h=(n(115),n(208)),m=n(209),d=n(25),f=n.n(d),g=n(21),v=n.n(g),E="http://localhost:3000/login",y=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={auth:{}},n.login=function(e){console.log("\u013aoguini"),e.preventDefault();var t=n.state.auth;f.a.post(E,t).then(function(e){console.log(e),v.a.success("Logueadoo"),localStorage.setItem("user",JSON.stringify(e.data.user)),localStorage.setItem("token",e.data.token),n.props.history.push("/profile")}).catch(function(e){console.log(e),v.a.error("malisiososbiscos!")})},n.onChange=function(e){var t=e.target.name,a=e.target.value,r=n.state.auth;r[t]=a,n.setState({auth:r})},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.state.auth;return r.a.createElement("div",{className:"fondito"},r.a.createElement("div",{className:"signup"},r.a.createElement("form",{onSubmit:this.login},r.a.createElement("p",null,r.a.createElement("input",{name:"email",type:"email",onChange:this.onChange,value:e.email,placeholder:"tu correo"})),r.a.createElement("p",null,r.a.createElement("input",{name:"password",type:"password",onChange:this.onChange,value:e.password,placeholder:"tu contrase\xf1a"})),r.a.createElement("button",{type:"submit"},"Inicia sesi\xf3n"))))}}]),t}(a.Component),b=function(e){var t=new FormData;t.append("file",e);var n=localStorage.getItem("token");return f.a.post("http://localhost:3000/pictures/",t,{headers:{Authorization:n}}).then(function(e){return e}).catch(function(e){return e})},w=function(e){var t=new FormData;t.append("file",e);var n=localStorage.getItem("token");return f.a.post("http://localhost:3000/text/",t,{headers:{Authorization:n}}).then(function(e){return e}).catch(function(e){return e})},C=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={user:{}},n.getPrivateInfo=function(){f.a.get("http://localhost:3000/private",{headers:{Authorization:localStorage.getItem("token")}}).then(function(e){console.log(e)}).catch(function(e){return v.a.error("Algo sali\xf3 mal",e.message)})},n.uploadPhoto=function(){n.refs.input.click()},n.onChangeFile=function(e){console.log(e.target.files[0]),b(e.target.files[0]).then(function(e){return console.log(e)}).catch(function(e){return v.a.error("Error")})},n.onChangeFiles=function(e){console.log(e.target.files[0]),w(e.target.files[0]).then(function(e){return console.log(e)}).catch(function(e){return v.a.error("Error")})},n.uploadTexts=function(){n.refs.inputText.click()},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentWillMount",value:function(){var e=JSON.parse(localStorage.getItem("user"));if(!e)return this.props.history.push("/login");this.setState({user:e})}},{key:"render",value:function(){var e=this.state.user;return r.a.createElement("div",{className:"fondo"},r.a.createElement("h1",null,"Bienvenido ",e.username),r.a.createElement("input",{accept:"image/*",onChange:this.onChangeFile,ref:"input",hidden:!0,type:"file"}),r.a.createElement("img",{style:{cursor:"pointer"},width:"50px",src:"http://simpleicon.com/wp-content/uploads/cloud-upload-2.png",onClick:this.uploadPhoto}),r.a.createElement("input",{accept:".doc,.txt,.pdf",onChange:this.onChangeFiles,ref:"inputText",hidden:!0,type:"file"}),r.a.createElement("img",{style:{cursor:"pointer"},width:"50px",src:"https://cdn0.iconfinder.com/data/icons/outline-ui-part-4-of-4/100/pack07-07-512.png",onClick:this.uploadTexts}))}}]),t}(a.Component),O=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={signup:{username:"",email:"",password:"",password2:""}},n.onChange=function(e){console.log(e.target.name,e.target.value);var t=n.state.signup;t[e.target.name]=e.target.value,n.setState({signup:t})},n.createUser=function(e){e.preventDefault();var t=n.state.signup;if(t.password!==t.password2)return v.a.error("No coinciden las contrase\xf1as");f.a.post("http://localhost:3000/signup",t).then(function(e){console.log(e),v.a.success("Usuario Creado"),n.props.history.push("/Login")}).catch(function(e){return v.a.error("Noup!")})},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.state.signup;return r.a.createElement("div",{className:"fondito"},r.a.createElement("div",{className:"signup"},r.a.createElement("form",{onSubmit:this.createUser},r.a.createElement("p",null,r.a.createElement("input",{name:"username",type:"text",onChange:this.onChange,value:e.username,placeholder:"username"})),r.a.createElement("p",null,r.a.createElement("input",{name:"email",type:"email",onChange:this.onChange,value:e.email,placeholder:"correo"})),r.a.createElement("p",null,r.a.createElement("input",{name:"password",type:"password",onChange:this.onChange,value:e.password,placeholder:"contrase\xf1a"})),r.a.createElement("p",null,r.a.createElement("input",{name:"password2",type:"password",onChange:this.onChange,value:e.password2,placeholder:"repite tu contrase\xf1a"})),r.a.createElement("p",null,r.a.createElement("button",{type:"submit"},"  Inicia sesi\xf3n")))))}}]),t}(a.Component),j=n(205),k=n(207),S=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return(n=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={redirect:!1},n.setRedirect=function(){n.setState({redirect:!0})},n.setRedirects=function(){n.setState({redirects:!0})},n.renderRedirect=function(){if(n.state.redirect)return r.a.createElement(k.a,{to:"/Signup"})},n.renderRedirects=function(){if(n.state.redirects)return r.a.createElement(k.a,{to:"/Login"})},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"papa"},r.a.createElement("div",{className:"img-trans"},r.a.createElement("h1",null,"Endless memory"),r.a.createElement("br",null),r.a.createElement("p",null,"Tus recuerdos encapsulados para el futuro"),this.renderRedirect(),r.a.createElement(j.a,{type:"primary",className:"boton1",onClick:this.setRedirect},"Signup"))))}}]),t}(a.Component),I=function(){return r.a.createElement(h.a,null,r.a.createElement(m.a,{path:"/signup",component:O}),r.a.createElement(m.a,{path:"/login",component:y}),r.a.createElement(m.a,{path:"/profile",component:C}),r.a.createElement(m.a,{path:"/",component:S}))},N=n(204),x=n(203),A=(N.a.Header,N.a.Content,N.a.Footer,function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return(n=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={redirect:!1},n.setRedirect=function(){n.setState({redirect:!0})},n.renderRedirect=function(){if(n.state.redirect)return r.a.createElement(k.a,{to:"/"})},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(N.a,null,r.a.createElement(x.a,{theme:"dark",mode:"horizontal",defaultSelectedKeys:["2"],style:{lineHeight:"64px"}},this.renderRedirect(),r.a.createElement(x.a.Item,{key:"13",onMenuItemClick:this.setRedirect},"  Home"),r.a.createElement(x.a.Item,{key:"2"}," Signup"),r.a.createElement(x.a.Item,{key:"1"},"Login"))))}}]),t}(r.a.Component)),R=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(A,null),r.a.createElement(I,null))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var F=n(206);n(200);c.a.render(r.a.createElement(function(){return r.a.createElement(F.a,null,r.a.createElement(R,null))},null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[108,2,1]]]);
//# sourceMappingURL=main.4246f0fd.chunk.js.map